<UserControl x:Class="NowPlaying.Views.AddCacheRootView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:NowPlaying.Views"
             Width="600" Height="400">
    
    <StackPanel Orientation="Vertical" Margin="20,0,20,20">
        <TextBlock Text="Add NowPlaying Cache Root" 
               FontSize="18" 
               Foreground="DeepSkyBlue"
               Margin="0,0,0,20"/>
        <TextBlock Text="Choose a directory (on a fast device such as an SSD) to create game caches under. Note, only one cache root is allowed per device."
                       Foreground="White"
                       TextWrapping="Wrap"
                       Margin="0,0,0,10"/>
        <TextBlock Text="Also set the maximum fill level allowed for the device when installing game caches, in a range of 50-100%.  This can be used to reserve a portion of the device's total capacity for non-game cache use.  It's recommended to set the maximum fill level to 75-85% (or so) for a cache root on your system disk (C:). If the cache root is on a device used solely for gaming, it can be set as high as 100%."
                       Foreground="White"
                       TextWrapping="Wrap"
                       Margin="0,0,0,20"/>

        <Grid Margin="0,0,0,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <TextBlock Grid.Row="0" Grid.Column="0"
                       Text="Cache root directory:"
                       VerticalAlignment="Center"
                       Foreground="White" 
                       Margin="0,0,10,0"/>

            <TextBox Grid.Row="0" Grid.Column="1"
                     Text="{Binding RootDirectory, UpdateSourceTrigger=PropertyChanged}"
                     Foreground="DeepSkyBlue"
                     VerticalContentAlignment="Center"
                     Margin="0,0,10,0"/>

            <Button Grid.Row="0" Grid.Column="2" 
                    Content="Browse" 
                    Foreground="White" 
                    Command="{Binding SelectFolderCommand}"/>

            <TextBlock Grid.Row="1" Grid.Column="1"
                       Text="{Binding RootStatus}" 
                       TextWrapping="Wrap"
                       Foreground="OrangeRed"/>
        </Grid>

        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            
            <TextBlock Text="Cache root device:"
                           VerticalAlignment="Center"
                           Foreground="White"
                           Margin="0,0,10,0"/>

            <TextBlock Text="{Binding DeviceName}"
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,35,0"/>
            
            <TextBlock Text="Device capacity:"
                           VerticalAlignment="Center"
                           Foreground="White"
                           Margin="0,0,10,0"/>

            <TextBlock Text="{Binding DeviceCapacity}"
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,35,0"/>

            <TextBlock Text="Space available:"
                           VerticalAlignment="Center"
                           Foreground="White"
                           Margin="0,0,10,0"/>

            <TextBlock Text="{Binding SpaceAvailable}"
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,10,0"/>

        </StackPanel>
        
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            
            <TextBlock Text="Maximum fill level allowed:"
                           VerticalAlignment="Center"
                           Foreground="White" 
                           Margin="0,0,10,0"/>

            <TextBox Text="{Binding MaximumFillLevel, UpdateSourceTrigger=PropertyChanged, Delay=500}"
                     Foreground="DeepSkyBlue"
                     HorizontalContentAlignment="Right"
                     Width="50"/>

            <TextBlock Text="%" 
                       Foreground="White"
                       VerticalAlignment="Center" Margin="0,0,15,0"/>

            <TextBlock Text="{Binding SpaceToReserve}"
                       Foreground="White"
                       VerticalAlignment="Center"
                       Margin="0,0,15,0"/>

        </StackPanel>

        <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
            <TextBlock Text="Space available for game caches:"
                           VerticalAlignment="Center"
                           Foreground="White"
                           Margin="0,0,10,0"/>

            <Grid Margin="0,0,15,0">
                <TextBlock Text="{Binding SpaceAvailableForCaches}"
                           Visibility="{Binding SpaceAvailableVisibility}"
                           Foreground="White"
                           VerticalAlignment="Center"/>
                
                <TextBlock Text="** no space available **"
                           Visibility="{Binding NoSpaceAvailableVisibility}"
                           Foreground="OrangeRed"
                           VerticalAlignment="Center"/>
            </Grid>


        </StackPanel>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom">
            <Button Content="Add" Command="{Binding AddCommand}"/>
            <Button Content="Cancel" Command="{Binding CancelCommand}"/>
        </StackPanel>

    </StackPanel>

    
</UserControl>
